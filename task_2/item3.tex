
\subsubsection*{3. Пример -- вытеснение модифицированных данных}

Исходное состояние -- кэш пуст:

$$s_0 = [\varnothing,\varnothing,...,\varnothing,\varnothing]$$

Зная, что политика вытеснения LRU, что значит вытеснению будет подлежать самый ''старый'' блок. Этот же самый блок должен быть (а) модифицированным и (б) быть первым вытесненным для соответствия условиям примера. Но так как изменение ведёт к обнулению возраста, среди прочих блоков, то этот блок должен быть изменён до появления других блоков, приводящих к его вытеснению. А значит этот блок, который мы сразу же модифицируем, будет первым занесённым в кэш:

\[
\begin{matrix}
	 &[&\varnothing &\varnothing &\varnothing &...& \varnothing &\varnothing&] \\
	\delta(st,tag_0) &[& (1,tag_0,1,0) &\varnothing &\varnothing &...& \varnothing &\varnothing&] \\
	\delta(ld,tag_0) &[& (1,tag_0,1,1) &\varnothing &\varnothing &...& \varnothing &\varnothing&] \\
	\delta(st,tag_1) &[& (1,tag_0,1,1) &(1,tag_1,1,1) &\varnothing &...& \varnothing &\varnothing&] \\
	\delta(st,tag_2) &[& (1,tag_0,1,1) &(1,tag_1,1,2) &\varnothing &...& \varnothing &\varnothing&] \\
	\vdots & & \vdots & \vdots & \vdots & \ddots & \vdots &\vdots& \\
	\delta(st,tag_{30}) &[& (1,tag_0,1,1) &(1,tag_1,1,2) &(1,tag_3,1,1) &...& (1,tag_{30},1,1) &\varnothing&] \\
	\delta(st,tag_{31}) &[& (1,tag_0,1,1) &(1,tag_1,1,2) &(1,tag_3,1,1) &...& (1,tag_{30},1,1) &(1,tag_{31},1,1)&] \\
	\delta(st,tag_{32}) &[& (1,tag_{32},1,1) &(1,tag_1,1,2) &(1,tag_3,1,1) &...& (1,tag_{30},1,1) &(1,tag_{31},1,1)&] \\
\end{matrix}
\]